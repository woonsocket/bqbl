import requests_html

# CSS selectors for the game overview strip at the top.
TEAM_ABBRS = '.Gamestrip__Table TR TD:first-child'
TEAM_SCORES = '.Gamestrip__Table TR TD:last-child'

# CSS selectors for the box score.
BOXSCORE_CATEGORY = '.Boxscore__Category'
BOXSCORE_CATEGORY_TITLE = '.TeamTitle__Name'
BOXSCORE_TABLE = '.Boxscore__Team'
BOXSCORE_TOTAL_ROW = '.Table__Scroller .Boxscore__Totals'
BOXSCORE_CELL = 'TD'
BOXSCORE_PLAYER_NAME = '.Boxscore__Athlete'
BOXSCORE_STAT_ROW = '.Table__Scroller tbody tr:not(.Boxscore__Totals)'

TOP = 'tr[data-idx="24"]'


gameIds = eval("""{
  '2009': {'1': ['290910023', '290913001', '290913004', '290913005', '290913011', '290913018', '290913027', '290913029', '290913033', '290913034', '290913019', '290913022', '290913026', '290913009', '290914017', '290914013'], '2': ['290920001', '290920008', '290920009', '290920010', '290920012', '290920020', '290920021', '290920028', '290920030', '290920002', '290920025', '290920003', '290920007', '290920024', '290920006', '290921015'], '3': ['290927008', '290927014', '290927016', '290927017', '290927020', '290927021', '290927027', '290927033', '290927034', '290927002', '290927026', '290927004', '290927013', '290927024', '290927022', '290928006'], '4': ['291004003', '291004005', '291004011', '291004012', '291004017', '291004028', '291004030', '291004034', '291004015', '291004018', '291004007', '291004025', '291004023', '291005016'], '5': ['291011002', '291011008', '291011012', '291011014', '291011019', '291011021', '291011029', '291011033', '291011025', '291011007', '291011022', '291011026', '291011010', '291012015'], '6': ['291018004', '291018009', '291018016', '291018018', '291018023', '291018027', '291018028', '291018030', '291018013', '291018026', '291018017', '291018020', '291018001', '291019024'], '7': ['291025005', '291025012', '291025014', '291025023', '291025027', '291025034', '291025013', '291025029', '291025004', '291025006', '291025015', '291025019', '291026028'], '8': ['291101002', '291101003', '291101006', '291101008', '291101011', '291101020', '291101021', '291101033', '291101010', '291101024', '291101009', '291101022', '291102018'], '9': ['291108001', '291108003', '291108004', '291108011', '291108017', '291108027', '291108030', '291108018', '291108026', '291108019', '291108025', '291108021', '291109007'], '10': ['291112025', '291115010', '291115014', '291115015', '291115016', '291115020', '291115023', '291115028', '291115029', '291115013', '291115009', '291115022', '291115024', '291115011', '291116005'], '11': ['291119029', '291122006', '291122008', '291122009', '291122012', '291122016', '291122019', '291122027', '291122030', '291122033', '291122014', '291122007', '291122013', '291122017', '291122003', '291123034'], '12': ['291126008', '291126006', '291126007', '291129001', '291129002', '291129004', '291129014', '291129020', '291129021', '291129034', '291129024', '291129025', '291129010', '291129016', '291129033', '291130018'], '13': ['291203002', '291206001', '291206003', '291206004', '291206011', '291206012', '291206015', '291206023', '291206028', '291206029', '291206030', '291206005', '291206019', '291206026', '291206022', '291207009'], '14': ['291210005', '291213001', '291213003', '291213011', '291213012', '291213016', '291213017', '291213027', '291213030', '291213033', '291213034', '291213010', '291213013', '291213006', '291213019', '291214025'], '15': ['291217030', '291219018', '291220002', '291220008', '291220010', '291220012', '291220014', '291220020', '291220007', '291220024', '291220021', '291220023', '291220026', '291220033', '291220029', '291221028'], '16': ['291225010', '291227001', '291227004', '291227005', '291227009', '291227015', '291227017', '291227018', '291227019', '291227023', '291227022', '291227025', '291227011', '291227021', '291227028', '291228003'], '17': ['300103002', '300103005', '300103008', '300103014', '300103015', '300103016', '300103027', '300103029', '300103034', '300103006', '300103007', '300103013', '300103022', '300103024', '300103026', '300103020'], '18': []},
  '2010': {'1': ['300909018', '300912002', '300912003', '300912010', '300912017', '300912019', '300912023', '300912027', '300912030', '300912034', '300912014', '300912021', '300912026', '300912028', '300913020', '300913012'], '2': ['300919001', '300919004', '300919005', '300919006', '300919008', '300919009', '300919010', '300919016', '300919029', '300919007', '300919013', '300919020', '300919024', '300919028', '300919011', '300920025'], '3': ['300926012', '300926016', '300926017', '300926018', '300926019', '300926027', '300926029', '300926033', '300926034', '300926014', '300926030', '300926007', '300926022', '300926026', '300926015', '300927003'], '4': ['301003001', '301003002', '301003005', '301003009', '301003010', '301003014', '301003018', '301003023', '301003013', '301003030', '301003021', '301003024', '301003019', '301004015'], '5': ['301010002', '301010004', '301010005', '301010008', '301010011', '301010028', '301010029', '301010033', '301010034', '301010022', '301010006', '301010013', '301010025', '301011020'], '6': ['301017003', '301017009', '301017014', '301017017', '301017019', '301017021', '301017023', '301017027', '301017034', '301017007', '301017025', '301017016', '301017028', '301018030'], '7': ['301024001', '301024003', '301024010', '301024012', '301024015', '301024018', '301024027', '301024029', '301024033', '301024026', '301024007', '301024024', '301024009', '301025006'], '8': ['301031004', '301031006', '301031008', '301031012', '301031014', '301031020', '301031025', '301031024', '301031013', '301031017', '301031022', '301031018', '301101011'], '9': ['301107001', '301107002', '301107005', '301107008', '301107016', '301107029', '301107033', '301107034', '301107026', '301107013', '301107021', '301107009', '301108004'], '10': ['301111001', '301114002', '301114003', '301114005', '301114011', '301114015', '301114027', '301114030', '301114007', '301114019', '301114022', '301114025', '301114023', '301115028'], '11': ['301118015', '301121004', '301121006', '301121010', '301121012', '301121016', '301121020', '301121023', '301121029', '301121030', '301121014', '301121018', '301121025', '301121017', '301121021', '301122024'], '12': ['301125008', '301125006', '301125020', '301128001', '301128002', '301128005', '301128019', '301128028', '301128034', '301128013', '301128026', '301128003', '301128007', '301128033', '301128011', '301129022'], '13': ['301202021', '301205004', '301205008', '301205009', '301205010', '301205012', '301205015', '301205016', '301205019', '301205024', '301205011', '301205022', '301205026', '301205027', '301205033', '301206017'], '14': ['301209010', '301212002', '301212008', '301212023', '301212028', '301212029', '301212030', '301212018', '301212025', '301212003', '301212020', '301212022', '301212024', '301212006', '301213016', '301213034'], '15': ['301216024', '301219004', '301219006', '301219010', '301219011', '301219014', '301219015', '301219019', '301219027', '301219029', '301219033', '301219026', '301219013', '301219023', '301219017', '301220016'], '16': ['301223023', '301225022', '301226002', '301226003', '301226005', '301226012', '301226014', '301226015', '301226030', '301226004', '301226007', '301226013', '301226009', '301226027', '301227001', '301228021'], '17': ['310102001', '310102005', '310102008', '310102012', '310102017', '310102018', '310102020', '310102033', '310102007', '310102009', '310102011', '310102021', '310102025', '310102028', '310102034', '310102026'], '18': []},
  '2011': {'1': ['310908009', '310911003', '310911005', '310911012', '310911014', '310911027', '310911030', '310911033', '310911034', '310911022', '310911024', '310911025', '310911028', '310911020', '310912015', '310912007'], '2': ['310918002', '310918008', '310918010', '310918011', '310918016', '310918018', '310918020', '310918023', '310918028', '310918029', '310918025', '310918007', '310918015', '310918017', '310918001', '310919019'], '3': ['310925002', '310925004', '310925005', '310925010', '310925016', '310925018', '310925021', '310925029', '310925013', '310925014', '310925024', '310925003', '310925026', '310925027', '310925011', '310926006'], '4': ['311002003', '311002004', '311002005', '311002006', '311002012', '311002014', '311002021', '311002030', '311002034', '311002022', '311002026', '311002009', '311002013', '311002024', '311002033', '311003027'], '5': ['311009002', '311009011', '311009016', '311009019', '311009023', '311009029', '311009030', '311009034', '311009025', '311009007', '311009017', '311009001', '311010008'], '6': ['311016001', '311016004', '311016008', '311016009', '311016019', '311016023', '311016028', '311016013', '311016033', '311016017', '311016027', '311016003', '311017020'], '7': ['311023005', '311023008', '311023010', '311023015', '311023020', '311023027', '311023029', '311023013', '311023022', '311023006', '311023016', '311023018', '311024030'], '8': ['311030010', '311030014', '311030019', '311030029', '311030033', '311030034', '311030002', '311030007', '311030023', '311030025', '311030026', '311030021', '311031012'], '9': ['311106002', '311106006', '311106011', '311106012', '311106018', '311106028', '311106034', '311106010', '311106013', '311106017', '311106022', '311106024', '311106023', '311107021'], '10': ['311110024', '311113001', '311113004', '311113005', '311113006', '311113011', '311113012', '311113015', '311113021', '311113027', '311113029', '311113026', '311113003', '311113025', '311113020', '311114009'], '11': ['311117007', '311120005', '311120008', '311120009', '311120015', '311120016', '311120028', '311120033', '311120014', '311120025', '311120001', '311120003', '311120019', '311121017'], '12': ['311124008', '311124006', '311124033', '311127001', '311127004', '311127010', '311127011', '311127014', '311127020', '311127030', '311127013', '311127026', '311127021', '311127024', '311127012', '311128018'], '13': ['311201026', '311204002', '311204003', '311204015', '311204016', '311204017', '311204023', '311204027', '311204028', '311204034', '311204005', '311204019', '311204022', '311204025', '311204018', '311205030'], '14': ['311208023', '311211004', '311211008', '311211010', '311211015', '311211020', '311211028', '311211029', '311211030', '311211033', '311211007', '311211022', '311211009', '311211024', '311211006', '311212026'], '15': ['311215001', '311217027', '311218002', '311218003', '311218011', '311218012', '311218014', '311218016', '311218019', '311218034', '311218013', '311218007', '311218021', '311218022', '311218024', '311219025'], '16': ['311222011', '311224002', '311224004', '311224010', '311224012', '311224017', '311224020', '311224023', '311224028', '311224029', '311224033', '311224008', '311224006', '311224026', '311225009', '311226018'], '17': ['320101009', '320101014', '320101015', '320101016', '320101017', '320101018', '320101021', '320101030', '320101034', '320101001', '320101004', '320101005', '320101007', '320101013', '320101022', '320101019'], '18': []},
  '2012': {'1': ['320905019', '320909003', '320909005', '320909008', '320909010', '320909012', '320909016', '320909018', '320909020', '320909034', '320909009', '320909022', '320909027', '320909007', '320910033', '320910013'], '2': ['320913009', '320916002', '320916004', '320916011', '320916015', '320916017', '320916019', '320916021', '320916029', '320916030', '320916014', '320916026', '320916023', '320916024', '320916025', '320917001'], '3': ['320920029', '320923003', '320923005', '320923006', '320923010', '320923011', '320923015', '320923016', '320923018', '320923028', '320923022', '320923024', '320923007', '320923013', '320923033', '320924026'], '4': ['320927033', '320930001', '320930002', '320930008', '320930012', '320930014', '320930020', '320930034', '320930007', '320930022', '320930030', '320930009', '320930027', '320930021', '321001006'], '5': ['321004014', '321007004', '321007011', '321007012', '321007019', '321007023', '321007028', '321007029', '321007030', '321007016', '321007017', '321007025', '321007018', '321008020'], '6': ['321011010', '321014001', '321014005', '321014015', '321014020', '321014021', '321014027', '321014033', '321014022', '321014026', '321014025', '321014028', '321014034', '321015024'], '7': ['321018025', '321021002', '321021011', '321021014', '321021016', '321021019', '321021027', '321021029', '321021034', '321021013', '321021017', '321021004', '321022003'], '8': ['321025016', '321028003', '321028005', '321028008', '321028009', '321028010', '321028014', '321028020', '321028021', '321028023', '321028012', '321028006', '321028007', '321029022'], '9': ['321101024', '321104004', '321104005', '321104009', '321104010', '321104011', '321104028', '321104030', '321104034', '321104013', '321104026', '321104019', '321104001', '321105018'], '10': ['321108030', '321111004', '321111015', '321111016', '321111017', '321111018', '321111027', '321111029', '321111033', '321111026', '321111021', '321111025', '321111003', '321112023'], '11': ['321115002', '321118001', '321118006', '321118008', '321118012', '321118014', '321118028', '321118029', '321118034', '321118013', '321118007', '321118017', '321118023', '321119025'], '12': ['321122008', '321122006', '321122020', '321125003', '321125004', '321125005', '321125011', '321125012', '321125015', '321125027', '321125030', '321125024', '321125018', '321125022', '321125019', '321126021'], '13': ['321129001', '321202002', '321202003', '321202008', '321202009', '321202010', '321202012', '321202014', '321202015', '321202020', '321202007', '321202013', '321202024', '321202033', '321202006', '321203028'], '14': ['321206013', '321209002', '321209004', '321209005', '321209011', '321209016', '321209023', '321209027', '321209028', '321209029', '321209030', '321209025', '321209019', '321209026', '321209009', '321210017'], '15': ['321213021', '321216001', '321216003', '321216005', '321216014', '321216015', '321216018', '321216033', '321216034', '321216002', '321216022', '321216024', '321216006', '321216013', '321216017', '321217010'], '16': ['321222008', '321223006', '321223009', '321223012', '321223015', '321223020', '321223021', '321223023', '321223027', '321223029', '321223030', '321223034', '321223007', '321223022', '321223033', '321223026'], '17': ['321230001', '321230002', '321230004', '321230008', '321230010', '321230011', '321230018', '321230019', '321230023', '321230007', '321230016', '321230017', '321230024', '321230025', '321230026', '321230028'], '18': []},
  '2013': {'1': ['330905007', '330908002', '330908003', '330908005', '330908008', '330908011', '330908018', '330908020', '330908023', '330908029', '330908030', '330908014', '330908025', '330908006', '330909028', '330909024'], '2': ['330912017', '330915001', '330915002', '330915003', '330915009', '330915011', '330915012', '330915021', '330915033', '330915034', '330915022', '330915027', '330915013', '330915019', '330915026', '330916004'], '3': ['330919021', '330922004', '330922006', '330922010', '330922016', '330922017', '330922018', '330922028', '330922029', '330922033', '330922015', '330922020', '330922025', '330922026', '330922023', '330923007'], '4': ['330926014', '330929002', '330929005', '330929008', '330929012', '330929016', '330929027', '330929030', '330929034', '330929010', '330929007', '330929013', '330929024', '330929001', '330930018'], '5': ['331003005', '331006003', '331006004', '331006009', '331006010', '331006011', '331006014', '331006015', '331006019', '331006022', '331006006', '331006025', '331006013', '331007001'], '6': ['331010003', '331013002', '331013005', '331013012', '331013016', '331013020', '331013027', '331013033', '331013034', '331013007', '331013026', '331013017', '331013025', '331013006', '331014024'], '7': ['331017022', '331020001', '331020008', '331020015', '331020020', '331020021', '331020028', '331020029', '331020030', '331020010', '331020009', '331020012', '331020023', '331020011', '331021019'], '8': ['331024027', '331027008', '331027012', '331027017', '331027018', '331027021', '331027030', '331027004', '331027013', '331027007', '331027022', '331027016', '331028014'], '9': ['331031015', '331103002', '331103006', '331103014', '331103020', '331103028', '331103029', '331103013', '331103026', '331103005', '331103017', '331103034', '331104009'], '10': ['331107016', '331110001', '331110003', '331110009', '331110010', '331110011', '331110019', '331110023', '331110033', '331110025', '331110022', '331110024', '331110018', '331111027'], '11': ['331114010', '331117002', '331117003', '331117004', '331117021', '331117023', '331117027', '331117030', '331117034', '331117015', '331117018', '331117019', '331117026', '331117007', '331118029'], '12': ['331121001', '331124005', '331124008', '331124009', '331124012', '331124014', '331124015', '331124033', '331124034', '331124013', '331124022', '331124019', '331124017', '331125028'], '13': ['331128008', '331128006', '331128033', '331201005', '331201011', '331201016', '331201020', '331201021', '331201029', '331201034', '331201002', '331201025', '331201012', '331201024', '331201028', '331202026'], '14': ['331205030', '331208004', '331208009', '331208017', '331208020', '331208021', '331208023', '331208027', '331208028', '331208033', '331208007', '331208022', '331208024', '331208025', '331208018', '331209003'], '15': ['331212007', '331215001', '331215005', '331215011', '331215015', '331215016', '331215019', '331215027', '331215030', '331215013', '331215029', '331215006', '331215010', '331215014', '331215023', '331216008'], '16': ['331222002', '331222004', '331222012', '331222014', '331222020', '331222028', '331222029', '331222030', '331222034', '331222008', '331222026', '331222009', '331222024', '331222033', '331222021', '331223025'], '17': ['331229001', '331229004', '331229010', '331229011', '331229015', '331229016', '331229019', '331229023', '331229003', '331229013', '331229017', '331229018', '331229022', '331229024', '331229026', '331229006'], '18': []},
  '2014': {'1': ['400554214', '400554215', '400554232', '400554260', '400554217', '400554262', '400554226', '400554223', '400554221', '400554229', '400554256', '400554269', '400554266', '400554273', '400554296', '400554301'], '2': ['400554196', '400554198', '400554245', '400554241', '400554206', '400554235', '400554211', '400554202', '400554249', '400554278', '400554274', '400554291', '400554287', '400554284', '400554314', '400554318'], '3': ['400554194', '400554195', '400554237', '400554240', '400554244', '400554199', '400554250', '400554213', '400554208', '400554203', '400554247', '400554253', '400554280', '400554276', '400554283', '400554288'], '4': ['400554201', '400554207', '400554238', '400554286', '400554252', '400554279', '400554248', '400554212', '400554290', '400554242', '400554315', '400554319', '400554325'], '5': ['400554197', '400554234', '400554236', '400554204', '400554239', '400554210', '400554209', '400554205', '400554200', '400554243', '400554246', '400554275', '400554251', '400554277', '400554282'], '6': ['400554216', '400554259', '400554263', '400554295', '400554222', '400554299', '400554255', '400554231', '400554225', '400554302', '400554220', '400554308', '400554305', '400554312', '400554335'], '7': ['400554219', '400554268', '400554270', '400554271', '400554294', '400554265', '400554257', '400554233', '400554261', '400554228', '400554297', '400554304', '400554300', '400554307', '400554311'], '8': ['400554218', '400554224', '400554264', '400554230', '400554227', '400554272', '400554298', '400554254', '400554258', '400554267', '400554303', '400554306', '400554310', '400554313', '400554336'], '9': ['400554309', '400554344', '400554334', '400554337', '400554341', '400554347', '400554351', '400554339', '400554377', '400554381', '400554385', '400554389', '400554393'], '10': ['400554328', '400554332', '400554355', '400554362', '400554370', '400554372', '400554358', '400554367', '400554396', '400554397', '400554400', '400554403', '400554408'], '11': ['400554338', '400554340', '400554343', '400554348', '400554383', '400554375', '400554387', '400554378', '400554352', '400554391', '400554345', '400554414', '400554417', '400554421'], '12': ['400554293', '400554317', '400554333', '400554326', '400554324', '400554322', '400554320', '400554329', '400554360', '400554357', '400554364', '400554365', '400554369', '400554331', '400607990', '400554394'], '13': ['400554281', '400554285', '400554289', '400554321', '400554292', '400554354', '400554363', '400554359', '400554330', '400554327', '400554323', '400554316', '400554368', '400554371', '400554395', '400554399'], '14': ['400554349', '400554374', '400554422', '400554424', '400554384', '400554419', '400554416', '400554388', '400554379', '400554426', '400554428', '400554429', '400554431', '400554430', '400554432', '400554433'], '15': ['400554342', '400554346', '400554386', '400554392', '400554380', '400554376', '400554353', '400554350', '400554390', '400554382', '400554418', '400554420', '400554415', '400554423', '400554425', '400554427'], '16': ['400554356', '400554366', '400554361', '400554401', '400554373', '400554406', '400554436', '400554434', '400554410', '400554402', '400554398', '400554439', '400554444', '400554442', '400554447', '400554449'], '17': ['400554409', '400554413', '400554435', '400554437', '400554438', '400554440', '400554443', '400554407', '400554405', '400554412', '400554404', '400554445', '400554411', '400554446', '400554448', '400554441'], '18': []},
  '2015': {'1': ['400791485', '400791541', '400791489', '400791550', '400791497', '400791544', '400791547', '400791493', '400791555', '400791558', '400791587', '400791585', '400791582', '400791590', '400791596', '400791600'], '2': ['400791624', '400791664', '400791661', '400791666', '400791669', '400791638', '400791634', '400791672', '400791630', '400791675', '400791628', '400791702', '400791680', '400791705', '400791708', '400791711'], '3': ['400791484', '400791500', '400791491', '400791496', '400791594', '400791592', '400791553', '400791583', '400791557', '400791546', '400791589', '400791597', '400791623', '400791626', '400791631', '400791635'], '4': ['400791662', '400761514', '400791709', '400791678', '400791706', '400791712', '400791671', '400791701', '400791704', '400791714', '400791719', '400791718', '400791716', '400791720', '400791741'], '5': ['400791487', '400791495', '400791492', '400791548', '400791551', '400791488', '400791542', '400791498', '400791545', '400791554', '400791559', '400791560', '400791584', '400791588'], '6': ['400791593', '400791627', '400791633', '400791629', '400791639', '400791625', '400791598', '400791621', '400791637', '400791663', '400791667', '400791670', '400791674', '400791676'], '7': ['400791503', '400761515', '400791523', '400791517', '400791520', '400791527', '400791529', '400791533', '400791536', '400791511', '400791540', '400791564', '400791567', '400791574'], '8': ['400791601', '400761516', '400791605', '400791642', '400791609', '400791613', '400791618', '400791649', '400791646', '400791653', '400791657', '400791681', '400791684', '400791690'], '9': ['400791698', '400791725', '400791727', '400791721', '400791722', '400791728', '400791730', '400791700', '400791732', '400791731', '400791733', '400791734', '400791735'], '10': ['400791486', '400791490', '400791499', '400791543', '400791552', '400791556', '400791494', '400791549', '400791581', '400791586', '400791595', '400791591', '400791599', '400791622'], '11': ['400791632', '400791640', '400791673', '400791636', '400791703', '400791668', '400791707', '400791679', '400791665', '400791715', '400791677', '400791713', '400791710', '400791717'], '12': ['400791507', '400791509', '400791510', '400791514', '400791516', '400791502', '400791505', '400791504', '400791522', '400791506', '400791519', '400791512', '400791526', '400791532', '400791537', '400791561'], '13': ['400791568', '400791611', '400791647', '400791619', '400791643', '400791576', '400791615', '400791606', '400791572', '400791579', '400791655', '400791652', '400791658', '400791602', '400791682', '400791686'], '14': ['400791513', '400791580', '400791566', '400791530', '400791577', '400791534', '400791562', '400791524', '400791539', '400791604', '400791573', '400791616', '400791608', '400791612', '400791570', '400791641'], '15': ['400791650', '400791656', '400791688', '400791660', '400791694', '400791693', '400791695', '400791685', '400791696', '400791699', '400791697', '400791723', '400791724', '400791726', '400791692', '400791729'], '16': ['400791501', '400791508', '400791563', '400791535', '400791531', '400791518', '400791521', '400791525', '400791515', '400791538', '400791575', '400791528', '400791571', '400791569', '400791565', '400791578'], '17': ['400791614', '400791603', '400791659', '400791617', '400791620', '400791651', '400791645', '400791607', '400791654', '400791644', '400791687', '400791648', '400791689', '400791691', '400791610', '400791683'], '18': []},
  '2016': {'1': ['400874484', '400874522', '400874524', '400874570', '400874543', '400874527', '400874520', '400874486', '400874510', '400874511', '400874577', '400874574', '400874573', '400874539', '400874537', '400874532'], '2': ['400874530', '400874512', '400874488', '400874541', '400874529', '400874487', '400874518', '400874535', '400874549', '400874514', '400874515', '400874526', '400874525', '400874517', '400874545', '400874547'], '3': ['400874551', '400874558', '400874613', '400874610', '400874562', '400874565', '400874682', '400874615', '400874567', '400874620', '400874618', '400874624', '400874623', '400874628', '400874650', '400874653'], '4': ['400874655', '400874657', '400874664', '400874668', '400874663', '400874662', '400874660', '400874666', '400874658', '400874669', '400874671', '400874672', '400874674', '400874675', '400874677'], '5': ['400874483', '400874519', '400874533', '400874548', '400874581', '400874595', '400874602', '400874590', '400874607', '400874630', '400874636', '400874633', '400874640', '400874648'], '6': ['400874693', '400874698', '400874708', '400874709', '400874703', '400874730', '400874736', '400874707', '400874705', '400874701', '400874731', '400874733', '400874732', '400874734', '400874735'], '7': ['400874429', '400874490', '400874494', '400874496', '400874492', '400874491', '400874500', '400874501', '400874493', '400874498', '400874505', '400874503', '400874506', '400874508', '400874509'], '8': ['400874553', '400874555', '400874619', '400874612', '400874557', '400874564', '400874561', '400874625', '400874569', '400874622', '400874616', '400874629', '400874652'], '9': ['400874605', '400874599', '400874600', '400874601', '400874604', '400874603', '400874598', '400874596', '400874597', '400874594', '400874593', '400874592', '400874591'], '10': ['400874589', '400874572', '400874586', '400874584', '400874582', '400874578', '400874576', '400874580', '400874587', '400874544', '400874542', '400874538', '400874536', '400874531'], '11': ['400874609', '400874646', '400874634', '400874638', '400874641', '400874644', '400874649', '400874695', '400874691', '400874697', '400874700', '400874702', '400874704', '400874706'], '12': ['400874495', '400874499', '400874502', '400874566', '400874554', '400874507', '400874614', '400874654', '400874626', '400874560', '400874659', '400874665', '400874670', '400874680', '400874676', '400874684'], '13': ['400874713', '400874715', '400874723', '400874721', '400874720', '400874718', '400874717', '400874719', '400874722', '400874724', '400874726', '400874725', '400874727', '400874728', '400874729'], '14': ['400874428', '400874497', '400874563', '400874568', '400874504', '400874611', '400874556', '400874552', '400874559', '400874617', '400874621', '400874651', '400874627', '400874550', '400874656', '400874661'], '15': ['400874667', '400874673', '400874683', '400874678', '400874714', '400874686', '400874688', '400874687', '400874685', '400874681', '400874710', '400874689', '400874711', '400874712', '400874679', '400874716'], '16': ['400874485', '400874489', '400874534', '400874528', '400874523', '400874516', '400874540', '400874521', '400874546', '400874575', '400874513', '400874571', '400874579', '400874583', '400874585', '400874588'], '17': ['400874608', '400874632', '400874639', '400874642', '400874643', '400874645', '400874647', '400874690', '400874635', '400874606', '400874694', '400874692', '400874696', '400874699', '400874631', '400874637'], '18': []},
  '2017': {'1': ['400951566', '400951567', '400951570', '400951572', '400951574', '400951576', '400951584', '400951592', '400951580', '400951597', '400951601', '400951605', '400951608', '400951581', '400951612', '400951615'], '2': ['400951620', '400951632', '400951636', '400951639', '400951643', '400951645', '400951630', '400951635', '400951626', '400951669', '400951666', '400951673', '400951674', '400951676', '400951679', '400951681'], '3': ['400951568', '400951579', '400951583', '400951590', '400951594', '400951599', '400951604', '400951607', '400951611', '400951616', '400951587', '400951623', '400951627', '400951634', '400951644', '400951668'], '4': ['400951678', '400950241', '400951685', '400951712', '400951716', '400951724', '400951727', '400951730', '400951708', '400951720', '400951735', '400951738', '400951742', '400951744', '400951747', '400951752'], '5': ['400951552', '400951554', '400951556', '400951558', '400951562', '400951646', '400951650', '400951651', '400951655', '400951659', '400951657', '400951661', '400951664', '400951691'], '6': ['400951695', '400951697', '400951702', '400951704', '400951766', '400951767', '400951699', '400951700', '400951770', '400951773', '400951776', '400951779', '400951782', '400951785'], '7': ['400951571', '400951575', '400951578', '400951582', '400951585', '400951589', '400951593', '400951598', '400951603', '400951619', '400951628', '400951609', '400951624', '400951638', '400951641'], '8': ['400951670', '400951683', '400951706', '400951711', '400951715', '400951717', '400951721', '400951723', '400951725', '400951729', '400951732', '400951736', '400951737'], '9': ['400951743', '400951761', '400951755', '400951758', '400951760', '400951749', '400951753', '400951751', '400951763', '400951765', '400951786', '400951787', '400951790'], '10': ['400951553', '400951555', '400951559', '400951563', '400951656', '400951565', '400951653', '400951658', '400951648', '400951663', '400951686', '400951688', '400951690', '400951693'], '11': ['400951698', '400951701', '400951769', '400951703', '400981391', '400951775', '400951780', '400951783', '400951771', '400951807', '400951810', '400951815', '400951817', '400951818'], '12': ['400951569', '400951573', '400951577', '400951586', '400951588', '400951591', '400951595', '400951600', '400951606', '400951610', '400951618', '400951629', '400951614', '400951622', '400951633', '400951640'], '13': ['400951672', '400951677', '400951684', '400951707', '400951710', '400951728', '400951718', '400951726', '400951713', '400951680', '400951731', '400951740', '400951722', '400951733', '400951746', '400951754'], '14': ['400951557', '400951560', '400951564', '400951647', '400951654', '400951692', '400951660', '400951561', '400951649', '400951665', '400951662', '400951687', '400951689', '400951652', '400951694', '400951696'], '15': ['400951705', '400951768', '400951772', '400951774', '400951778', '400951784', '400951806', '400951808', '400951809', '400951777', '400951781', '400951811', '400951812', '400951813', '400951814', '400951816'], '16': ['400951596', '400951602', '400951617', '400951621', '400951667', '400951625', '400951631', '400951637', '400951642', '400951671', '400951613', '400951675', '400951709', '400951682', '400951714', '400951719'], '17': ['400951741', '400951745', '400951750', '400951756', '400951757', '400951759', '400951762', '400951734', '400951789', '400951788', '400951792', '400951748', '400951791', '400951793', '400951764', '400951739'], '18': []},
  '2018': {'1': ['401030710', '401030718', '401030717', '401030716', '401030715', '401030714', '401030713', '401030712', '401030711', '401030720', '401030721', '401030725', '401030723', '401030726', '401030728', '401030751'], '2': ['401030690', '401030691', '401030704', '401030705', '401030694', '401030708', '401030700', '401030698', '401030696', '401030693', '401030732', '401030730', '401030736', '401030733', '401030738', '401030739'], '3': ['401030775', '401030777', '401030795', '401030787', '401030784', '401030782', '401030781', '401030790', '401030794', '401030788', '401030791', '401030798', '401030801', '401030799', '401030802', '401030805'], '4': ['401030839', '401030847', '401030846', '401030845', '401030844', '401030842', '401030843', '401030841', '401030840', '401030930', '401030848', '401030931', '401030932', '401030933', '401030934'], '5': ['401030697', '401030702', '401030785', '401030770', '401030745', '401030741', '401030734', '401030709', '401030778', '401030793', '401030803', '401030797', '401030808', '401030831', '401030834'], '6': ['401030692', '401030695', '401030743', '401030746', '401030706', '401030771', '401030742', '401030737', '401030701', '401030748', '401030773', '401030776', '401030774', '401030779', '401030783'], '7': ['401030800', '401030792', '401030832', '401030833', '401030830', '401030809', '401030807', '401030806', '401030835', '401030836', '401030838', '401030837', '401030804', '401030796'], '8': ['401030703', '401030699', '401030747', '401030744', '401030740', '401030707', '401030735', '401030731', '401030849', '401030749', '401030780', '401030772', '401030786', '401030789'], '9': ['401030767', '401030769', '401030814', '401030816', '401030822', '401030826', '401030811', '401030819', '401030829', '401030852', '401030855', '401030858', '401030862'], '10': ['401030729', '401030810', '401030752', '401030754', '401030821', '401030766', '401030815', '401030853', '401030828', '401030859', '401030756', '401030865', '401030869', '401030873'], '11': ['401030878', '401030929', '401030910', '401030922', '401030952', '401030966', '401030971', '401030894', '401030970', '401030969', '401030963', '401030903', '401030972'], '12': ['401030905', '401030925', '401030923', '401030919', '401030921', '401030904', '401030914', '401030902', '401030920', '401030916', '401030912', '401030911', '401030906', '401030908', '401030762'], '13': ['401030899', '401030928', '401030955', '401030957', '401030965', '401030954', '401030953', '401030968', '401030962', '401030964', '401030960', '401030935', '401030959', '401030958', '401030951', '401030871'], '14': ['401030724', '401030750', '401030823', '401030825', '401030764', '401030761', '401030758', '401030753', '401030813', '401030851', '401030827', '401030854', '401030863', '401030860', '401030817', '401030867'], '15': ['401030874', '401030891', '401030876', '401030900', '401030896', '401030893', '401030909', '401030927', '401030918', '401030915', '401030924', '401030898', '401030950', '401030956', '401030961', '401030967'], '16': ['401030868', '401030897', '401030872', '401030875', '401030877', '401030861', '401030866', '401030892', '401030870', '401030864', '401030895', '401030907', '401030901', '401030913', '401030917', '401030926'], '17': ['401030722', '401030757', '401030765', '401030768', '401030812', '401030820', '401030759', '401030824', '401030760', '401030850', '401030763', '401030818', '401030856', '401030727', '401030719', '401030755'], '18': []},
  '2019': {'1': ['401127913', '401127928', '401127954', '401127961', '401127963', '401127968', '401127923', '401127931', '401127972', '401127995', '401128007', '401127999', '401128010', '401127860', '401128021', '401128025'], '2': ['401128054', '401128066', '401128072', '401128098', '401128114', '401127862', '401128106', '401128110', '401128115', '401128061', '401128101', '401128118', '401128120', '401128122', '401128124', '401128127'], '3': ['401127859', '401127915', '401127921', '401127925', '401127929', '401127953', '401127956', '401127861', '401127959', '401127962', '401127966', '401127970', '401127998', '401127993', '401128125', '401128003'], '4': ['401127863', '401128016', '401127866', '401128023', '401128030', '401128055', '401128059', '401128018', '401128026', '401128069', '401128064', '401128093', '401128097', '401128102', '401128109'], '5': ['401127927', '401127958', '401128014', '401128001', '401127965', '401127971', '401128006', '401128011', '401127864', '401127932', '401127960', '401128019', '401128029', '401128053', '401128062'], '6': ['401127917', '401128096', '401128111', '401128119', '401128121', '401128123', '401128116', '401128105', '401128128', '401128126', '401128129', '401128130', '401128131', '401128132'], '7': ['401127902', '401127940', '401127942', '401127945', '401127947', '401127949', '401127951', '401127974', '401127977', '401127979', '401127982', '401127985', '401127987', '401127894'], '8': ['401127905', '401128035', '401128037', '401128039', '401128042', '401128048', '401128051', '401127912', '401128046', '401128045', '401128050', '401127895', '401128043', '401128073', '401128074'], '9': ['401127908', '401127936', '401128076', '401128079', '401128080', '401128082', '401128083', '401128078', '401128085', '401128087', '401128088', '401128090', '401127899', '401128091'], '10': ['401127907', '401127911', '401127934', '401127939', '401127981', '401127948', '401127952', '401127976', '401127986', '401127944', '401127989', '401128041', '401127992'], '11': ['401128044', '401128052', '401128075', '401128077', '401128081', '401128084', '401128086', '401128049', '401128047', '401128089', '401128092', '401127897', '401128133', '401128134'], '12': ['401127865', '401127870', '401127872', '401127914', '401127918', '401127919', '401127922', '401127924', '401128008', '401127996', '401128000', '401127957', '401128004', '401128012'], '13': ['401128015', '401128017', '401128022', '401128057', '401128058', '401128070', '401128095', '401128107', '401128032', '401128063', '401128027', '401128100', '401128104', '401128067', '401127967', '401128112'], '14': ['401127871', '401127869', '401127868', '401127867', '401127916', '401127926', '401127964', '401127969', '401127994', '401127920', '401127997', '401128005', '401127930', '401128002', '401128009', '401128013'], '15': ['401128020', '401127955', '401128028', '401128031', '401128068', '401128056', '401128060', '401128071', '401128024', '401128099', '401128094', '401128113', '401128103', '401128108', '401128065', '401128117'], '16': ['401127901', '401127898', '401127900', '401127903', '401127904', '401127935', '401127906', '401127910', '401127933', '401127937', '401127893', '401127896', '401127938', '401127941', '401127943', '401127946'], '17': ['401127973', '401127978', '401127983', '401127990', '401127991', '401127909', '401128034', '401127975', '401127980', '401128036', '401128038', '401128033', '401127988', '401127950', '401127984', '401128040'], '18': []},
  '2020': {'1': ['401220225', '401220313', '401220116', '401220282', '401220300', '401220131', '401220268', '401220370', '401220195', '401220147', '401220161', '401220369', '401220352', '401220347', '401220256', '401220217'], '2': ['401220163', '401220281', '401220249', '401220291', '401220204', '401220192', '401220122', '401220144', '401220261', '401220177', '401220329', '401220340', '401220235', '401220181', '401220365', '401220231'], '3': ['401220201', '401220309', '401220119', '401220168', '401220304', '401220134', '401220254', '401220264', '401220173', '401220193', '401220240', '401220216', '401220343', '401220363', '401220323', '401220153'], '4': ['401220141', '401220157', '401220247', '401220285', '401220128', '401220334', '401220271', '401220320', '401220184', '401220348', '401220280', '401220229', '401220355', '401220221', '401220293'], '5': ['401220278', '401220306', '401220219', '401220143', '401220175', '401220269', '401220146', '401220179', '401220358', '401220166', '401220242', '401220367', '401220326', '401220209'], '6': ['401220202', '401220190', '401220301', '401220133', '401220252', '401220263', '401220172', '401220317', '401220200', '401220124', '401220331', '401220353', '401220117', '401220245'], '7': ['401220259', '401220310', '401220155', '401249063', '401220322', '401220138', '401220266', '401220183', '401220232', '401220210', '401220136', '401220241', '401220338', '401220351'], '8': ['401220314', '401220115', '401220158', '401220169', '401220288', '401220292', '401220222', '401220127', '401220148', '401220212', '401220277', '401220361', '401220258', '401220257'], '9': ['401220359', '401220311', '401220120', '401220207', '401220189', '401220224', '401220299', '401220267', '401220194', '401220236', '401220248', '401220342', '401220330', '401220140'], '10': ['401220203', '401220165', '401220289', '401220295', '401220251', '401220368', '401220226', '401220126', '401220341', '401220346', '401220327', '401220171', '401220137', '401220276'], '11': ['401220360', '401220167', '401220321', '401220272', '401220318', '401220198', '401220150', '401220185', '401220214', '401220238', '401220191', '401220305', '401220227', '401220335'], '12': ['401220287', '401220244', '401220312', '401220118', '401220160', '401220188', '401220302', '401220135', '401220139', '401220197', '401220215', '401220345', '401220333', '401220290', '401220262', '401220170'], '13': ['401220307', '401220274', '401220205', '401220129', '401220303', '401220142', '401220178', '401220336', '401220364', '401220297', '401220237', '401220218', '401220176', '401220357', '401220151'], '14': ['401220349', '401220279', '401220159', '401220125', '401220253', '401220332', '401220319', '401220196', '401220233', '401220366', '401220283', '401220265', '401220239', '401220356', '401220121', '401220162'], '15': ['401220228', '401220213', '401220294', '401220308', '401220246', '401220208', '401220186', '401220123', '401220298', '401220270', '401220149', '401220350', '401220339', '401220325', '401220255', '401220156'], '16': ['401220324', '401220286', '401220337', '401220230', '401220223', '401220145', '401220174', '401220199', '401220152', '401220182', '401220234', '401220273', '401220243', '401220362', '401220296', '401220130'], '17': ['401220114', '401220154', '401220164', '401220284', '401220132', '401220250', '401220328', '401220275', '401220211', '401220187', '401220220', '401220344', '401220354', '401220315', '401220180', '401220260'], '18': []},
  '2021': {'1': ['401326315', '401326308', '401326316', '401326317', '401326311', '401326318', '401326312', '401326309', '401326310', '401326314', '401326313', '401326319', '401326320', '401326323', '401326322', '401326321'], '2': ['401326127', '401326129', '401326130', '401326131', '401326353', '401326354', '401326355', '401326356', '401326128', '401326132', '401326357', '401326358', '401326359', '401326360', '401326361', '401326362'], '3': ['401326363', '401326364', '401326365', '401326366', '401326372', '401326368', '401326369', '401326370', '401326371', '401326367', '401326373', '401326374', '401326375', '401326376', '401326377', '401326378'], '4': ['401326379', '401326380', '401326381', '401326382', '401326383', '401326384', '401326385', '401326386', '401326387', '401326388', '401326389', '401326390', '401326391', '401326392', '401326393', '401326394'], '5': ['401326395', '401326324', '401326397', '401326400', '401326401', '401326402', '401326403', '401326396', '401326399', '401326398', '401326405', '401326404', '401326407', '401326406', '401326408', '401326409'], '6': ['401326410', '401326325', '401326413', '401326414', '401326415', '401326416', '401326417', '401326412', '401326411', '401326418', '401326419', '401326420', '401326421', '401326422'], '7': ['401326423', '401326425', '401326429', '401326426', '401326427', '401326428', '401326424', '401326431', '401326430', '401326432', '401326433', '401326434', '401326435'], '8': ['401326436', '401326437', '401326438', '401326439', '401326440', '401326441', '401326443', '401326444', '401326442', '401326445', '401326446', '401326447', '401326448', '401326449', '401326450'], '9': ['401326451', '401326454', '401326455', '401326457', '401326458', '401326459', '401326453', '401326456', '401326452', '401326460', '401326461', '401326462', '401326463', '401326464'], '10': ['401326465', '401326466', '401326471', '401326467', '401326468', '401326469', '401326470', '401326472', '401326473', '401326474', '401326475', '401326476', '401326477', '401326478'], '11': ['401326479', '401326480', '401326482', '401326483', '401326488', '401326485', '401326486', '401326487', '401326481', '401326484', '401326489', '401326490', '401326491', '401326492', '401326493'], '12': ['401326494', '401326495', '401326496', '401326497', '401326499', '401326501', '401326502', '401326503', '401326500', '401326498', '401326504', '401326505', '401326506', '401326507', '401326508'], '13': ['401326509', '401326510', '401326511', '401326512', '401326513', '401326515', '401326516', '401326517', '401326514', '401326518', '401326519', '401326520', '401326521', '401326522'], '14': ['401326523', '401326525', '401326526', '401326530', '401326528', '401326529', '401326531', '401326524', '401326527', '401326532', '401326533', '401326534', '401326535', '401326536'], '15': ['401326537', '401326538', '401326539', '401326540', '401326541', '401326542', '401326544', '401326546', '401326547', '401326545', '401326543', '401326548', '401326549', '401326550', '401326551', '401326552'], '16': ['401326553', '401326554', '401326555', '401326556', '401326558', '401326560', '401326561', '401326562', '401326563', '401326557', '401326559', '401326564', '401326565', '401326566', '401326567', '401326568'], '17': ['401326569', '401326570', '401326571', '401326572', '401326577', '401326573', '401326574', '401326575', '401326576', '401326578', '401326579', '401326580', '401326582', '401326581', '401326583', '401326584'], '18': ['401326585', '401326587', '401326588', '401326589', '401326592', '401326593', '401326594', '401326595', '401326596', '401326591', '401326586', '401326590', '401326598', '401326600', '401326599', '401326597']},
  '2022': {'1': ['401437650', '401437647', '401437634', '401437648', '401437630', '401437632', '401437646', '401437651', '401437637', '401437640', '401437649', '401437653', '401437643', '401437644', '401437654', '401437655'], '2': ['401434030', '401437635', '401437732', '401437652', '401437645', '401437636', '401437639', '401437633', '401437733', '401437605', '401437734', '401437641', '401437642', '401437606', '401436831', '401436832'], '3': ['401437735', '401437737', '401437741', '401437638', '401437738', '401437739', '401437631', '401437740', '401437742', '401437736', '401437743', '401437744', '401437745', '401437607', '401437746', '401437747'], '4': ['401437748', '401435639', '401437749', '401437751', '401437752', '401437754', '401437755', '401437756', '401437757', '401437750', '401437753', '401437758', '401437759', '401437760', '401437470', '401437761'], '5': ['401437762', '401435640', '401437763', '401437764', '401437766', '401437767', '401437768', '401437769', '401437770', '401437771', '401437765', '401437772', '401437774', '401437773', '401437775', '401437776'], '6': ['401437777', '401437778', '401437779', '401437780', '401437781', '401437782', '401437783', '401437784', '401437785', '401437786', '401437787', '401437788', '401437789', '401437790'], '7': ['401437791', '401437794', '401437795', '401437797', '401437798', '401437793', '401437796', '401437792', '401437799', '401437800', '401437801', '401437802', '401437803', '401437804'], '8': ['401437805', '401435641', '401437806', '401437807', '401437808', '401437809', '401437810', '401437811', '401437812', '401437813', '401437814', '401437815', '401437816', '401437817', '401437818'], '9': ['401437819', '401437820', '401437821', '401437822', '401437823', '401437825', '401437826', '401437827', '401437824', '401437828', '401437829', '401437830', '401437831'], '10': ['401437832', '401435638', '401437833', '401437834', '401437839', '401437835', '401437836', '401437837', '401437838', '401437840', '401437131', '401437841', '401437842', '401437843'], '11': ['401437844', '401437845', '401437847', '401437849', '401437850', '401437851', '401437852', '401437846', '401437848', '401437853', '401437855', '401437854', '401437856', '401435642'], '12': ['401437857', '401437858', '401437859', '401437861', '401437865', '401437863', '401437864', '401437866', '401437860', '401437862', '401437867', '401437868', '401437869', '401437870', '401437871', '401437872'], '13': ['401437873', '401437874', '401437876', '401437877', '401437879', '401437880', '401437881', '401437875', '401437878', '401437882', '401437883', '401437884', '401437885', '401437886', '401437887'], '14': ['401437888', '401437889', '401437890', '401437891', '401437892', '401437895', '401437893', '401437894', '401437896', '401437897', '401437898', '401437899', '401437900'], '15': ['401437901', '401437902', '401437903', '401437904', '401437905', '401437906', '401437908', '401437911', '401437907', '401437910', '401437909', '401437912', '401437913', '401437914', '401437915', '401437916'], '16': ['401437917', '401437920', '401437921', '401437925', '401437922', '401437923', '401437924', '401437919', '401437918', '401437926', '401437927', '401437928', '401437929', '401436983', '401437930', '401437931'], '17': ['401437932', '401437933', '401437935', '401437937', '401437938', '401437939', '401437940', '401437941', '401437942', '401437934', '401437936', '401437943', '401437944', '401437945', '401437946', '401437947'], '18': ['401437948', '401437949', '401437950', '401437951', '401437960', '401437952', '401437953', '401437961', '401437955', '401437956', '401437957', '401437958', '401437962', '401437963', '401437959', '401437954']},
  '2023': {'1P': ['401547654'], '2P': ['401548631', '401550740', '401548624', '401550739', '401548626', '401550178', '401549309', '401548496', '401547663', '401548411', '401550833', '401548620', '401547659', '401547666', '401548628', '401550918'], '3P': ['401547661', '401550834', '401548625', '401548621', '401547665', '401547662', '401547664', '401550836', '401549211', '401548507', '401548497', '401548509', '401547668', '401550161', '401547667', '401547655'], '4P': ['401548627', '401547656', '401547657', '401548508', '401548510', '401548412', '401549212', '401548629', '401548498', '401550835', '401548623', '401547660', '401548622', '401550167', '401547669', '401547658'], '5P': [], '1': ['401547353', '401547403', '401547397', '401547404', '401547398', '401547399', '401547405', '401547406', '401547396', '401547407', '401547400', '401547402', '401547401', '401547408', '401547409', '401547352'], '2': ['401547410', '401547417', '401547411', '401547412', '401547418', '401547414', '401547420', '401547413', '401547419', '401547422', '401547421', '401547415', '401547416', '401547423', '401547425', '401547424'], '3': ['401547426', '401547428', '401547433', '401547434', '401547429', '401547436', '401547430', '401547431', '401547435', '401547427', '401547432', '401547438', '401547437', '401547439', '401547440', '401547441'], '4': ['401547442', '401547227', '401547443', '401547444', '401547445', '401547452', '401547449', '401547450', '401547451', '401547448', '401547446', '401547447', '401547453', '401547454', '401547455', '401547456'], '5': ['401547457', '401547228', '401547463', '401547464', '401547458', '401547465', '401547459', '401547460', '401547467', '401547466', '401547461', '401547462', '401547354', '401547468'], '6': ['401547469', '401547229', '401547470', '401547475', '401547471', '401547476', '401547473', '401547478', '401547472', '401547477', '401547474', '401547479', '401547480', '401547481', '401547482'], '7': ['401547483', '401547490', '401547484', '401547485', '401547486', '401547491', '401547489', '401547492', '401547493', '401547487', '401547488', '401547494', '401547495'], '8': ['401547496', '401547505', '401547506', '401547500', '401547507', '401547497', '401547498', '401547499', '401547508', '401547504', '401547509', '401547502', '401547501', '401547503', '401547510', '401547511'], '9': ['401547512', '401547230', '401547518', '401547514', '401547519', '401547520', '401547516', '401547513', '401547515', '401547517', '401547521', '401547522', '401547523', '401547524'], '10': ['401547525', '401547231', '401547526', '401547533', '401547527', '401547528', '401547532', '401547531', '401547529', '401547530', '401547534', '401547535', '401547536', '401547537'], '11': ['401547538', '401547539', '401547546', '401547547', '401547542', '401547548', '401547545', '401547541', '401547540', '401547549', '401547543', '401547544', '401547550', '401547345'], '12': ['401547552', '401547551', '401547553', '401547242', '401547559', '401547554', '401547561', '401547556', '401547560', '401547555', '401547563', '401547562', '401547557', '401547558', '401547564', '401547565'], '13': ['401547566', '401547570', '401547567', '401547572', '401547573', '401547568', '401547569', '401547574', '401547571', '401547575', '401547276', '401547576', '401547577'], '14': ['401547578', '401547579', '401547586', '401547580', '401547581', '401547587', '401547582', '401547585', '401547588', '401547589', '401547583', '401547584', '401547590', '401547592', '401547591'], '15': ['401547593', '401547604', '401547605', '401547606', '401547607', '401547603', '401547598', '401547595', '401547594', '401547599', '401547597', '401547596', '401547600', '401547601', '401547602', '401547608'], '16': ['401547609', '401547610', '401547611', '401547616', '401547614', '401547618', '401547613', '401547617', '401547612', '401547615', '401547619', '401547620', '401547621', '401547351', '401547241', '401547622'], '17': ['401547623', '401547624', '401547626', '401547627', '401547628', '401547632', '401547633', '401547634', '401547635', '401547629', '401547625', '401547631', '401547636', '401547630', '401547235', '401547637'], '18': ['401547641', '401547642', '401547643', '401547652', '401547644', '401547646', '401547647', '401547648', '401547649', '401547650', '401547638', '401547645', '401547651', '401547653', '401547640', '401547639']}
  }""""")
# let ids = []; for (let anchor of $x("//a[@name='&lpos=nfl:scoreboard:gamecast']")) {let components = anchor.href.split('/'); ids.push(components[components.length - 1])}; console.log(ids)

def all_games(year, week):
  return gameIds[year][week]

def all_passers(table):
  if not table:
    return []

  passer_names = table.find(BOXSCORE_PLAYER_NAME)
  stat_rows = table.find(BOXSCORE_STAT_ROW)
  assert(len(passer_names) == len(stat_rows))
  passers = {}
  for name_cell, row in zip(passer_names, stat_rows):
    link = name_cell.find('a', first=True)
    uid = link.attrs['data-player-uid'].split(":")[-1]
    passer = {'NAME': name_cell.text}
    extract_pass_attrs(row, passer)
    passers[uid] = passer
  return passers

def extract_pass_attrs(row, dst):
  if not row:
    return
  cells = row.find(BOXSCORE_CELL)
  # Columns are C/ATT YDS AVG TD INT SACKS
  c_att_cell, yds_cell, _, td_cell, int_cell, sacks_cell = cells[:6]
  dst["CMP"], dst["ATT"] = map(int, c_att_cell.text.split('/'))
  sacks, sack_yards = map(int, sacks_cell.text.split('-'))
  # ESPN's passing yard total already deducts sack yardage. Our score
  # calculator expects PASSYD to *not* deduct it, so we need to add it
  # back in here.
  dst["PASSYD"] = int(yds_cell.text) + sack_yards
  dst["SACK"] = sacks
  dst["SACKYD"] = -1 * sack_yards
  dst["PASSTD"] = int(td_cell.text)
  dst["INT"] = int(int_cell.text)

def extract_rush_attrs(row, dst):
  if not row:
    return
  cells = row.find(BOXSCORE_CELL)
  # Columns are CAR YDS AVG TD LONG
  dst["RUSHYD"] = int(cells[1].text)
  dst["RUSHTD"] = int(cells[3].text)

def extract_fumble_attrs(row, dst):
  if not row:
    return
  cells = row.find(BOXSCORE_CELL)
  # Columns are FUM LOST REC
  dst["FUM"] = int(cells[0].text)
  dst["FUMLOST"] = int(cells[1].text)
  dst["REC"] = int(cells[2].text)

def extract_receiving_attrs(row, dst):
  if not row:
    return
  cells = row.find(BOXSCORE_CELL)
  # Columns are REC YDS AVG TD LONG TGTS
  dst["LONG"] = int(cells[4].text)

def extract_interception_attrs(row, dst):
  if not row:
    return
  cells = row.find(BOXSCORE_CELL)
  # Columns are INT YDS TD
  dst["INT6"] = int(cells[2].text)

def extract_passer_rushing(table, name, dst):
  if not table:
    return

  rusher_names = table.find(BOXSCORE_PLAYER_NAME)
  stat_rows = table.find(BOXSCORE_STAT_ROW)
  assert(len(rusher_names) == len(stat_rows))
  for name_cell, row in zip(rusher_names, stat_rows):
    if name_cell.text != name:
      continue
    extract_rush_attrs(row, dst)

def extract_passer_fumbling(table, name, dst):
  if not table:
    return

  fumbler_names = table.find(BOXSCORE_PLAYER_NAME)
  stat_rows = table.find(BOXSCORE_STAT_ROW)
  assert(len(fumbler_names) == len(stat_rows))
  for name_cell, row in zip(fumbler_names, stat_rows):
    if name_cell.text != name:
      continue
    extract_fumble_attrs(row, dst)


def extract_game(tree, home=True, game_id=None):
  team_abbrs = tree.find(TEAM_ABBRS)
  if len(team_abbrs) != 2:
    raise Exception(
      'expected 2 teams in line score, but found {0}'.format(len(team_abbrs)))
  away_team = team_abbrs[0].text
  home_team = team_abbrs[1].text
  team_name = home_team if home else away_team
  opp_name = away_team if home else home_team

  team_scores = tree.find(TEAM_SCORES)
  if not team_scores:
    # Game hasn't started yet
    return None, team_name
  elif len(team_scores) != 2:
    raise Exception(
      'expected 2 point totals in line score, but found {0}'
        .format(len(team_scores)))
  away_score = team_scores[0].text
  home_score = team_scores[1].text

  team = {'ATT': 0, 'CLOCK': 0, 'CMP': 0, 'FIELDPOS': 100, 'ID': game_id or '', 'INT': 0, 'LONG': 0, 'FUM': 0, 'FUML': 0,
   'OPP': opp_name, 'PASSERS': [], 'PASSTD': 0, 'PASSYD': 0, 'RUSHYD': 0, 'RUSHTD': 0, 'SACK': 0, 'SACKYD': 0, 'SCORE': [], 'TD': 0
  }

  team['SCORE'] = {
    'AWAY': away_team,
    'ASCORE': away_score,
    'HOME': home_team,
    'HSCORE': home_score,
  }

  categories = tree.find(BOXSCORE_CATEGORY)
  passing = find_table(categories, 'Passing', home)
  extract_pass_attrs(boxscore_table_total(passing), team)
  receiving = find_table(categories, 'Receiving', home)
  extract_receiving_attrs(boxscore_table_total(receiving), team)
  interceptions = find_table(categories, 'Interceptions', not home)
  extract_interception_attrs(boxscore_table_total(interceptions), team)
  team['PASSERS'] = all_passers(passing)

  for passer_id in team['PASSERS']:
    passer_data = team['PASSERS'][passer_id]
    passer_name = passer_data['NAME']
    rushing = find_table(categories, 'Rushing', home)
    extract_passer_rushing(rushing, passer_name, passer_data)
    fumbling = find_table(categories, 'Fumbles', home)
    extract_passer_fumbling(fumbling, passer_name, passer_data)
    team['FUM'] += passer_data.get('FUM', 0)
    team['FUML'] += passer_data.get('FUMLOST', 0)
    team['RUSHTD'] += passer_data.get('RUSHTD', 0)

  team['TD'] = team['RUSHTD'] + team["PASSTD"]
  return team, team_name

# Find a box score stat table for one team.
# Params:
#   categories: A list of Elements. Each is a box score category, including
#       stat tables for both teams.
#   title: The name of the category to search for, e.g., 'Passing'.
#   home: Whether to find the home team's table.
# Returns:
#   The table for the specified stat category and team. None if there were
#   no matches.
def find_table(categories, title, home):
  for cat in categories:
    if title in cat.find(BOXSCORE_CATEGORY_TITLE, first=True).text:
      tables = cat.find(BOXSCORE_TABLE)
      return tables[1 if home else 0]
  return None

def boxscore_table_total(table):
  return table.find(BOXSCORE_TOTAL_ROW, first=True)

def mickey_parse(url, dst, game_id=None):
  session = requests_html.HTMLSession()
  headers = {'Content-Type': 'text/html',}
  response = session.get(url, headers=headers)
  html = response.html
  html.render(timeout=20)
  team, team_key = extract_game(html, home=False, game_id=game_id)
  if team:
    dst[team_key] = team
  team_2, team_key_2 = extract_game(html, home=True, game_id=game_id)
  if team_2:
    dst[team_key_2] = team_2
  return team_key, team_key_2

def mickey_parse_extended(url, dst, team_key, team2_key):
  session = requests_html.HTMLSession()
  headers = {'Content-Type': 'text/html',}
  response = session.get(url, headers=headers)
  html = response.html
  html.render(timeout=20)
  cells = html.find(TOP)[0].find('td')
  time = ""
  if cells[0].text == 'Possession':
    top_1 = list(map(int, cells[1].text.split(':')))
    top_2 = list(map(int, cells[2].text.split(':')))
    min_elapsed = (top_1[0] + top_2[0] + (top_1[1] + top_2[1])/60)
    qtr, m_r, s_r = int(min_elapsed // 15 + 1), 14 - int(min_elapsed % 15), round(60 - ((min_elapsed %15) - int(min_elapsed % 15)) * 60)
    if s_r == 60: 
      m_r += 1
      s_r = 0
    time = "{:0}:{:0>2} - {:0}".format(m_r, s_r, qtr)
    if min_elapsed == 60:
      time = 'Final'
  dst[team_key]['FRAC'] = min_elapsed / 60
  dst[team2_key]['FRAC'] = min_elapsed / 60

  dst[team_key]['CLOCK'] = time
  dst[team2_key]['CLOCK'] = time

if __name__ == "__main__":
  url = 'https://www.espn.com/nfl/boxscore?gameId=401128096'
  url = 'https://www.espn.com/nfl/boxscore?gameId=401128100'
  url = 'https://www.espn.com/nfl/boxscore?gameId=401220268'
  dst = {}
  mickey_parse(url, dst)
  print(dst)
